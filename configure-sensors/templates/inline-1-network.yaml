{{- if .Values.cluster.inline }}
apiVersion: "kubernetes.com/v1"
kind: Network
metadata:
  name: inline-1 
{{- if eq .Values.cluster.type "physical" }}
plugin: sriov
{{- else }}
plugin: macvlan
{{- end }}

args: '[
       {
                {{- if eq .Values.cluster.type "physical" }}
                "if0": "{{ .Values.networkInterfaces.inline1interface.deviceName }}",
                {{- else }}
                "master": "{{ .Values.networkInterfaces.inline1interface.deviceName }}",
                {{- end }}
                "ipam": {
                  "type": "host-local",
                  "subnet": "10.3.0.0/16",
                  "rangeStart": "10.3.0.10",
                  "rangeEnd": "10.3.0.150"
                }
        }
]'
{{- end }}
